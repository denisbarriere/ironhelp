<% if (isUserAdmin && !onProfile) { %>
  <%- include('../partials/hero/admin') %>
<% } %>
<% if(onProfile) { %>
  <%- include('../partials/hero/profile') %>
  <form class="hero-body" action='/profile/<%= user._id %>' method='POST'>
<% } else { %>
  <form class="hero-body" action='/admin/user/<%= user._id %>' method='POST'>
<% } %>
  <div class="container">
    <div class="columns is-vcentered">
      <div class="column is-6 is-offset-3">
        <h1 class="title">
          Edit Profile
        </h1>
        <div class="box">
          <label class="label">Username</label>
          <p class="control">
            <input class="input" type="text" placeholder="janedoe" name="username" value='<%= user.username %>'>
          </p>
          
          <br>
          <label class="label">Email</label>
          <p class="control">
            <input class="input" type="text" placeholder="jane@doe.com" name="email" value='<%= user.email %>' required>
          </p>

          <br>
          <label class="label" for='bio'>Bio</label>
          <p class="control">
            <textarea class="textarea" name='bio' id='bio' placeholder="Write something about you here" rows="10" cols="50"><%= user.bio %></textarea>
          </p>
          <br>
          <label class="label">Image Url</label>
          <p class="control">
            <input class="input" type="text" placeholder="image url" name="imageUrl" value='<%= user.imageUrl %>'>
          </p>

          <% if (isUserLoggedIn && isUserAdmin) { %>
          <br>
          <label for='role'>User Role</label>
          <br>
          <input type='radio' name='role' value='user' <% if( user.role === 'USER') { %> checked='checked' <% }%>> User<br>
          <input type='radio' name='role' value='admin' <% if( user.role === 'ADMIN') { %> checked='checked' <% }%>> Admin<br>
          
          <% } %>
          
          <hr>
          <label class="label">Password</label>
          <p class="control">
            <input class="input" type="password" name="password" value="<%= user.password %>" placeholder="●●●●●●●" required>
          </p>
          <br>
          <label class="label">Confirm Password</label>
          <p class="control">
            <input class="input" type="password" name="password-confirm" value="<%= user.password %>" placeholder="●●●●●●●" required>
          </p> 

          <hr>
          <p class="control">
            <button class="button is-primary">Update</button>
            <% if(onProfile) { %>
              <a class="button is-default" href="/profile">Cancel</a> %>
            <% } else { %>
              <a class="button is-default" href="/admin/users">Cancel</a> %>
            <% } %>              
          </p>
        </div>
        
      </div>
    </div>
  </div>
</form>

